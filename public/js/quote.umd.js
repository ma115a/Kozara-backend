(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.blockquote_type1{background:url(/icons/IconQuote.svg) no-repeat 50% 0;color:#333;font-size:15pt;line-height:23pt;padding:25px 0 0;text-align:center;border:none;box-shadow:none}.blockquote_type2{border:solid #acacac;border-width:0 0 0 3px;box-shadow:none;color:#666;line-height:18pt;padding:1px 0 0 12px;text-align:left}.blockquote_type3{border:1px solid #d7d7d7;color:#666;line-height:18pt;padding:21px 25px 20px;text-align:left}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:33%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(i,n){typeof exports=="object"&&typeof module<"u"?module.exports=n(require("@codexteam/icons"),require("@editorjs/dom")):typeof define=="function"&&define.amd?define(["@codexteam/icons","@editorjs/dom"],n):(i=typeof globalThis<"u"?globalThis:i||self,i.EditorJSQuote=n(i.CodexIcons,i.EditorJSDOM))})(this,function(i,n){"use strict";var l=(o=>(o.QuotationMark="quotationMark",o.VerticalLine="verticalLine",o.Box="box",o))(l||{});class a{constructor({data:t,config:e,api:s,readOnly:r,block:c}){const{DEFAULT_TYPE:u}=a;this.api=s,this.readOnly=r,this._data={text:t.text||"",type:Object.values(l).includes(t.type)&&t.type||e.defaultType||u},this._CSS={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input},this._block=c}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:i.IconQuote,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_TYPE(){return"quotationMark"}static get conversionConfig(){return{import:"text",export:function(t){return t.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input}}get settings(){return[{name:"quotationMark",label:"Quote Mark",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="editor-icon"><path id="Vector" d="M13.4831 16L12.9348 15.2444C13.6348 14.7628 14.2457 14.168 14.7411 13.4856C15.1102 12.9691 15.3133 12.3568 15.3244 11.7268L15.3244 11.5341C15.1838 11.5523 15.0551 11.5683 14.9383 11.5821C14.8287 11.5955 14.7184 11.6026 14.6079 11.6032C14.379 11.6097 14.1512 11.5704 13.9384 11.4876C13.7256 11.4048 13.5324 11.2803 13.3708 11.1218C13.2095 10.9659 13.0826 10.7794 12.9979 10.5738C12.9132 10.3682 12.8725 10.1478 12.8783 9.92622C12.8654 9.67057 12.9047 9.41498 12.994 9.17437C13.0833 8.93376 13.2207 8.71295 13.3983 8.52485C13.5784 8.34918 13.7938 8.21199 14.031 8.12199C14.2682 8.03198 14.5219 7.99112 14.7761 8.00199C15.0814 7.99561 15.3842 8.05802 15.6609 8.18438C15.9376 8.31074 16.1809 8.49766 16.3718 8.73067C16.8042 9.25948 17.0264 9.92326 16.9975 10.5996C16.9991 11.6387 16.6913 12.6558 16.1115 13.5267C15.4258 14.5249 14.5296 15.3682 13.4831 16ZM8.57836 16L8.03081 15.2444C8.73082 14.7628 9.34168 14.168 9.83712 13.4856C10.2062 12.9691 10.4093 12.3568 10.4204 11.7268L10.4204 11.5341C10.2894 11.5523 10.1652 11.5683 10.0477 11.5821C9.93338 11.5959 9.81836 11.6029 9.70321 11.6032C9.47579 11.612 9.24899 11.5743 9.03726 11.4927C8.82554 11.4111 8.63353 11.2872 8.47347 11.129C8.31679 10.9694 8.1944 10.7808 8.11352 10.5742C8.03264 10.3676 7.99491 10.1473 8.00255 9.9262C7.97599 9.41221 8.15775 8.90869 8.50843 8.52483C8.68516 8.34862 8.89803 8.21093 9.13304 8.12082C9.36806 8.03072 9.61992 7.99022 9.87208 8.00199C10.1793 7.99665 10.4838 8.05945 10.7626 8.18565C11.0414 8.31186 11.2874 8.4982 11.482 8.73067C11.9225 9.25585 12.1503 9.92102 12.1218 10.5996C12.1182 11.6281 11.808 12.6333 11.229 13.4922C10.5339 14.4995 9.63105 15.3538 8.57836 16Z" fill="#12161A"/></g></svg>'},{name:"verticalLine",label:"Vertical Line",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="editor-icon"><path id="Vector" fill-rule="evenodd" clip-rule="evenodd" d="M5 5V19H7V5H5ZM18.3198 7H9.68019L9.01941 10.3039L10.9806 10.6961L11.3198 9H13V15.5H11V17.5H17V15.5H15V9H16.6802L17.0194 10.6961L18.9806 10.3039L18.3198 7Z" fill="#12161A"/></g></svg>'},{name:"box",label:"Box",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="editor-icon"><path id="Vector" fill-rule="evenodd" clip-rule="evenodd" d="M17 7H7V17H17V7ZM5 5V19H19V5H5Z" fill="#12161A"/></g></svg>'}]}render(){const t=n.make("div",[this._CSS.baseClass,this._CSS.wrapper]);return this._quoteElement=n.make("blockquote",[this._CSS.input,this._CSS.text,this.getTypeClass(this._data.type)],{contentEditable:!this.readOnly,innerHTML:this._data.text}),this._quoteElement.addEventListener("keydown",e=>this.handleKeydown(e)),t.appendChild(this._quoteElement),t}get currentItem(){let t=window.getSelection().anchorNode;return t.nodeType!==Node.ELEMENT_NODE&&(t=t.parentNode),t.closest(`.${this.CSS.text}`)}handleKeydown(t){var s;const e=this._quoteElement;if(t.key==="Enter"&&(t.shiftKey||(t.preventDefault(),this.getOutOfQuote())),t.key==="Backspace"&&((s=e.textContent)==null?void 0:s.trim().length)===0){t.preventDefault();const r=this.api.blocks.getCurrentBlockIndex();this.api.blocks.delete(r),this.api.blocks.insert("paragraph",{text:""}),this.api.caret.setToBlock(r);return}}getOutOfQuote(){this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}getTypeClass(t){switch(t){case"quotationMark":return"blockquote_type1";case"verticalLine":return"blockquote_type2";case"box":return"blockquote_type3";default:return"blockquote_type1"}}save(t){const e=t.querySelector(`.${this._CSS.text}`);return Object.assign(this._data,{text:(e==null?void 0:e.innerHTML)??""})}static get sanitize(){return{text:{br:!0}}}renderSettings(){return this.settings.map(t=>({icon:t.icon||void 0,label:this.api.i18n.t(t.label),onActivate:()=>this._toggleTune(t.name),isActive:this._data.type===t.name,closeOnActivate:!0}))}_toggleTune(t){this._data.type=t,this._quoteElement&&(this._quoteElement.classList.remove("blockquote_type1","blockquote_type2","blockquote_type3"),this._quoteElement.classList.add(this.getTypeClass(t))),this._block.dispatchChange()}}return a});
